setwd("~/Disk Google/Repositories/CERGE-Introduction-to-Machine-Learning/Lecture 1")
install("dplyr")
install.packages("dplyr")
library(dplyr)
library(ggplot2)
df <- read.csv("./data/orders.csv")
head(df)
tail(df)
df$Date <- as.Date(df$Date, format = "%m/%d/%Y")
summary(df)
df$Date <- as.Date(df$Date, format = "%m/%d/%Y")
summary(df)
summary(df)
df %>% select(Customer.ID, Country) %>% head
df %>% filter(Customer.ID=="7")
df %>%
group_by(Customer.ID) %>%
summarise(Monetary = sum(Subtotal))  %>%
head
df %>%
group_by(Customer.ID) %>%
summarise(Frequency = n()) %>% #count number of rows
head
rfm = df %>%
group_by(Customer.ID) %>%
summarise(last_purchase = max(Date),
recency = as.double(difftime("2016-01-01",
as.Date(last_purchase,
origin = "1970-01-01"),
units = "days"
)),
frequency = n(),
monetary = sum(Subtotal))
rfm
View(rfm)
head(rfm)
ggplot(rfm, aes(x= recency, y=frequency, size=monetary)) + geom_point()
ggplot(rfm, aes(x= recency,
y= frequency,
size=monetary,
color = monetary)) + geom_point()
rfm %>% ggplot(aes(x=recency, y=monetary)) + geom_point(position = "jitter")+theme_bw()
df %>%
group_by(Customer.ID) %>%
summarise(Monetary = sum(Subtotal))  %>%
head
df %>%
group_by(Country)
df %>%
group_by(Customer.ID) %>%
summarise(Frequency = n()) %>% #count number of rows
head
df %>%
group_by(Customer.ID) %>%
summarise(Monetary = sum(Subtotal))  %>%
head
df %>%
group_by(Country) %>%
summarise(Monetary = sum(Subtotal))  %>%
head
df %>%
group_by(Country) %>%
summarise(Monetary = sum(Subtotal))  %>%
max
country = df %>%
group_by(Country) %>%
summarise(Monetary = sum(Subtotal))  %>%
head
max(country)
max(country$Monetary)
max(country$Monetary)
region = df %>%
group_by(State) %>%
summarise(Monetary = sum(Subtotal))
View(region)
country==max(country$Monetary)
print(country==max(country$Monetary))
print(country==max(country$Monetary))
df %>%
group_by(Country) %>%
summarise(max_pch = max(Subtotal)) %>%
arrange(desc(max_pch)) %>%
head
df %>%
group_by(Country) %>%
summarise(max_pch = sum(Subtotal)) %>%
arrange(desc(max_pch)) %>%
head
df %>%
group_by(Country) %>%
summarise(max_pch = max(Subtotal)) %>%
arrange(desc(max_pch)) %>%
head
df %>%
group_by(Country) %>%
summarise(n()) %>%
arrange(desc(max_pch)) %>%
head
df %>%
group_by(Country) %>%
summarise(max_pch = n()) %>%
arrange(desc(max_pch)) %>%
head
setwd("~/Disk Google/Repositories/kiwi")
rm(list=ls())
setwd("~/Disk Google/Repositories/kiwi")
getwd()
df <- read.csv("data_200.csv")
df <- read.csv("data_200.txt")
df <- read.csv("data_15.txt")
str(df)
df
